{"ast":null,"code":"import React,{useEffect,useState}from\"react\";import axios from\"axios\";import NavbarProducer from\"../../components/navbar/NavbarProducer\";import styles from\"./People.module.css\";import{FaEnvelope}from\"react-icons/fa\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const People=()=>{const[people,setPeople]=useState([]);const navigate=useNavigate();const handleMessage=people=>{navigate(\"/messages\",{state:{people}});};// Fetch people from the database when the component mounts\nuseEffect(()=>{const token=sessionStorage.getItem(\"token\");const fetchpeople=async()=>{try{const response=await axios.get(\"http://localhost:8001/people/getpeople\",{headers:{Authorization:\"Bearer \".concat(token)},withCredentials:true});const peopleData=response.data;if(Array.isArray(peopleData.people)){setPeople(peopleData.people);localStorage.setItem(\"people\",JSON.stringify(peopleData.people));}else{console.error(\"Invalid data received from the API:\",peopleData);}}catch(error){console.error(\"Error fetching people:\",error);}};fetchpeople();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(NavbarProducer,{}),/*#__PURE__*/_jsx(\"div\",{className:styles.cardsContainer,children:people&&people.map((people,index)=>/*#__PURE__*/_jsxs(\"div\",{className:styles.cards,children:[/*#__PURE__*/_jsx(\"div\",{className:styles.PhotoWrapper,children:/*#__PURE__*/_jsx(\"img\",{src:people&&people.profileImage?\"http://localhost:8001/\".concat(people.profileImage.replace(/\\\\/g,\"/\")):\"\",alt:\"Profile\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Username: \",people.username]}),/*#__PURE__*/_jsx(\"h3\",{children:people.skills}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"About: \",people.description]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Expected Paygrade : \\u20B9\",people.expectedPaygrade]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Portfolio: \",people.portfolio,\" \"]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Previous Jobs: \",people.previousJobs]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Contact: \",people.contact]}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Job Profile: \",people.jobProfile]})]})]},index))})]});};export default People;","map":{"version":3,"names":["React","useEffect","useState","axios","NavbarProducer","styles","FaEnvelope","useNavigate","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","People","people","setPeople","navigate","handleMessage","state","token","sessionStorage","getItem","fetchpeople","response","get","headers","Authorization","concat","withCredentials","peopleData","data","Array","isArray","localStorage","setItem","JSON","stringify","console","error","children","className","cardsContainer","map","index","cards","PhotoWrapper","src","profileImage","replace","alt","username","skills","description","expectedPaygrade","portfolio","previousJobs","contact","jobProfile"],"sources":["D:/Development/Good Projects/retrocraft-hub/frontend/src/pages/people/People.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport NavbarProducer from \"../../components/navbar/NavbarProducer\";\r\nimport styles from \"./People.module.css\";\r\nimport { FaEnvelope } from \"react-icons/fa\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst People = () => {\r\n  const [people, setPeople] = useState([]);\r\n  const navigate = useNavigate();\r\n\r\n  const handleMessage = (people) => {\r\n    navigate(\"/messages\", { state: { people } });\r\n  };\r\n\r\n  // Fetch people from the database when the component mounts\r\n  useEffect(() => {\r\n    const token = sessionStorage.getItem(\"token\");\r\n    const fetchpeople = async () => {\r\n      try {\r\n        const response = await axios.get(\r\n          \"http://localhost:8001/people/getpeople\",\r\n          {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n            withCredentials: true,\r\n          }\r\n        );\r\n\r\n        const peopleData = response.data;\r\n\r\n        if (Array.isArray(peopleData.people)) {\r\n          setPeople(peopleData.people);\r\n          localStorage.setItem(\"people\", JSON.stringify(peopleData.people));\r\n        } else {\r\n          console.error(\"Invalid data received from the API:\", peopleData);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching people:\", error);\r\n      }\r\n    };\r\n\r\n    fetchpeople();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <NavbarProducer />\r\n\r\n      <div className={styles.cardsContainer}>\r\n        {people &&\r\n          people.map((people, index) => (\r\n            <div key={index} className={styles.cards}>\r\n              \r\n                \r\n              <div className={styles.PhotoWrapper}>\r\n                \r\n                  <img\r\n                    src={\r\n                      people && people.profileImage\r\n                        ? `http://localhost:8001/${people.profileImage.replace(\r\n                            /\\\\/g,\r\n                            \"/\"\r\n                          )}`\r\n                        : \"\"\r\n                    }\r\n                    alt=\"Profile\"\r\n                   \r\n                  />\r\n              </div>\r\n              \r\n              <div>\r\n                <h3>Username: {people.username}</h3>\r\n                <h3>{people.skills}</h3>\r\n                <h3>About: {people.description}</h3>\r\n                <h3>Expected Paygrade : â‚¹{people.expectedPaygrade}</h3>\r\n                <h3>Portfolio: {people.portfolio} </h3>\r\n                <h3>Previous Jobs: {people.previousJobs}</h3>\r\n                <h3>Contact: {people.contact}</h3>\r\n                <h3>Job Profile: {people.jobProfile}</h3>\r\n              </div>\r\n            </div>\r\n          ))}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default People;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}